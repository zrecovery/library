generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model article {
  id        Int      @id @default(autoincrement())
  title     String
  body      String
  author    author   @relation(fields: [author_id], references: [id])
  author_id Int
  love      Boolean  @default(false)
  chapter   chapter?

  @@map("articles")
}

model author {
  id       Int       @id @default(autoincrement())
  name     String    @unique
  articles article[]
  books    book[]

  @@map("authors")
}

model book {
  id        Int       @id @default(autoincrement())
  title     String
  author_id Int
  author    author    @relation(fields: [author_id], references: [id])
  chapters  chapter[]

  @@map("books")
}

model chapter {
  id            Int     @id @default(autoincrement())
  book_id       Int
  book          book    @relation(fields: [book_id], references: [id])
  article_id    Int     @unique
  article       article @relation(fields: [article_id], references: [id])
  chapter_order Float

  @@map("chapters")
}

model search {
  rowid Int    @id
  title String
  body  String

  @@map("articles_fts")
}
